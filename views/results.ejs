<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Result</title>
    <link rel="stylesheet" href="../assets/css/result.css" />
    <link
      rel="shortcut icon"
      href="/assets/images/favicon.png"
      type="image/png"
    />
    <script
      src="https://kit.fontawesome.com/07a3f2ea0b.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body onload="stopLoading()">
    <div id="loading"></div>
    <div id="screenshot" class="container">
      <div class="imageBox">
        <img
          src="../assets/images/meme_images/meme<%= memeNumber %>.gif"
          alt=""
        />
      </div>
      <h3 class="title">Your GPA is</h3>
      <div class="resultBox">
        <!-- GPA-->
        <h1><%= result %></h1>
      </div>
      <div class="detailsBox">
        <!-- Semester and Department -->
        <h3>DEPT: <span><%= dept %></span></h3>
        <h3>SEM: <span><%= sem %></span></h3>
      </div>
      <div class="messageBox">
        <!-- Message -->
        <%if (sem != 0) {%> <% if ( result >= 9) { %>
        <h2>Yaara Neengalam Ipdi Padikureenga!</h2>
        <% }else if (result >= 8) { %>
        <h2>Nee oru padips-nu katita Machi!</h2>
        <% }else if (result >= 7) {%>
        <h2>Nee kalaku Machi!</h2>
        <% }else if (result >= 5) {%>
        <h2>It's Ok Machi! Next time inum konjam Hardwork panu...</h2>
        <% }else if (result <= 5 && result >= 0.1) {%>
        <h2>Outstanding Student!</h2>
        <%} %> <%}%> <%if (sem == 0 || result == 0) {%>
        <h2>
          <span id="warning">
            <svg
              class="warningImage"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <path
                d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"
              />
            </svg>
            WARNING!</span
          ><br />Please, Go Back and select your Semester and Department
        </h2>
        <%}%>
      </div>
    </div>

    <div class="actionBtn">
      <!-- <button onclick="captureDownload()" class="downloadBtn">Download</button> -->
      <a class="downloadLink downloadBtn" href=""
        ><span
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            class="actionIcon downloadIcon"
            viewBox="0 0 512 512"
          >
            <path
              d="M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM382.6 302.6l-103.1 103.1C270.7 414.6 260.9 416 256 416c-4.881 0-14.65-1.391-22.65-9.398L129.4 302.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 306.8V128c0-17.69 14.33-32 32-32s32 14.31 32 32v178.8l49.38-49.38c12.5-12.5 32.75-12.5 45.25 0S395.1 290.1 382.6 302.6z"
            /></svg></span
        >Download</a
      >
      <form action="/results" method="post">
        <button type="submit" class="downloadBtn">
          <span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="actionIcon goBackIcon"
              viewBox="0 0 576 512"
            >
              <path
                d="M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"
              />
            </svg>
          </span>
          Go Back
        </button>
      </form>
    </div>
    <!-- <form action="/detailedResults" method="post">
      <input type="submit" name="detailedResults" value="Detailed Results" />
    </form> -->

    <!-- Footer -->
    <div id="footer">
      <!-- Copyright -->
      <ul class="copyright">
        <li>
          <a href="https://www.youtube.com/mindsofraj" target="_blank"
            >&copy; Minds Of Raj</a
          >. All rights reserved.
        </li>
      </ul>
      <!-- Social Icons -->
      <ul class="icons">
        <li>
          <a href="https://youtube.com/c/mindsofraj" target="_blank"
            ><svg
              class="social-icon youtube-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 576 512"
            >
              <path
                d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"
              /></svg
          ></a>
        </li>
        <li>
          <a href="https://www.instagram.com/minds_of_raj/" target="_blank"
            ><svg
              class="social-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 448 512"
            >
              <path
                d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"
              /></svg
          ></a>
        </li>
        <li>
          <a href="https://twitter.com/mindsofraj" target="_blank"
            ><svg
              class="social-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <path
                d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"
              /></svg
          ></a>
        </li>
      </ul>
    </div>

    <!-- Scripts -->
    <script src="https://superal.github.io/canvas2image/canvas2image.js"></script>
    <script src="assets/js/html2canvas.js"></script>
    <script>
      // Preloader Screen
      const preloader = document.getElementById("loading");
      const footer = document.getElementById("footer");
      function stopLoading() {
        preloader.style.display = "none";
        footer.classList.add("active");
      }

      // Canvas Function
      html2canvas(document.querySelector("#screenshot"), {
        backgroundColor: "#161616",
      }).then((canvas) => {
        window.scrollTo(0, 0);
        let cvs = canvas;
        const downloadLink = document.querySelector(".downloadLink");
        downloadLink.href = cvs.toDataURL();
        downloadLink.download = "Semester <%= sem %> - findCGPA.com.png";
      });

      //Removing the Result Box if Warning pop up is shown
      const warning = document.getElementById("warning");
      if (warning.offsetParent != null) {
        document.querySelector(".resultBox").style.display = "none";
        document.querySelector(".title").textContent = "Athaadi!!!";
        document.querySelector(".detailsBox").style.display = "none";
        document.querySelector(".downloadLink").style.display = "none";
      }
    </script>
  </body>
</html>
